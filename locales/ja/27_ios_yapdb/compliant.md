
YapDBにデータ保存する際、カスタム暗号化の使用が推奨されます。
SQLCipherはデータベース全体を透過的に暗号化するSQLiteの拡張機能であり、BSDスタイルのライセンス下で利用可能です。SQLCipherサポートはCocoaPodsのsubspecとして追加されました。単純にPodfileを変更してください。

    pod 'YapDatabase/SQLCipher'

もしSQLCipherのsubspecを使用していないなら、そのプロジェクトはサポートが利用可能ではないときは偶発的に暗号化を使用されることを防ぐために暗号化構成オプションをコンパイルしないでしょう。
いったんプロジェクトがSQLCipherの使用のために構成されると、YapDBにパスフレーズを伝える必要があります。これはYapDatabaseOptionsのcipherKeyBlockをセットすることで実行されます。

    YapDatabaseOptions *options = [[YapDatabaseOptions alloc] init];
        options.corruptAction = YapDatabaseCorruptAction_Fail;
        options.cipherKeyBlock = ^ NSData *(void){
            // You can also do things like fetch from the keychain in here.
            return [@"super secure passphrase" dataUsingEncoding:NSUTF8StringEncoding];

            // Note: The return type is NSData, and does NOT have to be a string in UTF-8.
            // It can be any kind of blob of data, including randomly generated bytes.
        };

        self.database = [[YapDatabase alloc] initWithPath:databasePath options:options];

cipherKeyBlockは必要以上に長くメモリに資格情報を保存するのを防ぐのに役立ちます。このブロックはデータベースセットアップ時、そしてデータベースへの新たな接続が作成された時に実行されます。
